Index: streamlog/CMakeLists.txt
===================================================================
RCS file: /marlin/Marlin/streamlog/CMakeLists.txt,v
retrieving revision 1.1.1.1
diff -r1.1.1.1 CMakeLists.txt
19c19
< OPTION( BUILD_streamlog_TESTS "Set to ON to build streamlog tests" OFF )
---
> #OPTION( BUILD_streamlog_TESTS "Set to ON to build streamlog tests" OFF )
22,28c22,27
< SET( ${PROJECT_NAME}_MAJOR_VERSION 0 )
< SET( ${PROJECT_NAME}_MINOR_VERSION 1 )
< SET( ${PROJECT_NAME}_PATCH_LEVEL 0 )
< SET( ${PROJECT_NAME}_VERSION
< 	"${${PROJECT_NAME}_MAJOR_VERSION}.${${PROJECT_NAME}_MINOR_VERSION}.${${PROJECT_NAME}_PATCH_LEVEL}" )
< SET( ${PROJECT_NAME}_SOVERSION
< 	"${${PROJECT_NAME}_MAJOR_VERSION}.${${PROJECT_NAME}_MINOR_VERSION}" )
---
> SET( streamlog_MAJOR_VERSION 0 )
> SET( streamlog_MINOR_VERSION 1 )
> SET( streamlog_PATCH_LEVEL 0 )
> 
> SET( streamlog_SOVERSION "${streamlog_MAJOR_VERSION}.${streamlog_MINOR_VERSION}" )
> SET( streamlog_VERSION "${streamlog_SOVERSION}.${streamlog_PATCH_LEVEL}" )
43c42
< 	SET( CMAKE_INSTALL_PREFIX "${${PROJECT_NAME}_SOURCE_DIR}" )
---
> 	SET( CMAKE_INSTALL_PREFIX "${PROJECT_SOURCE_DIR}" )
55,58c54,55
< SET( EXECUTABLE_OUTPUT_PATH "${${PROJECT_NAME}_BINARY_DIR}/bin" CACHE PATH
< 	"EXECUTABLE_OUTPUT_PATH" FORCE )
< SET( LIBRARY_OUTPUT_PATH "${${PROJECT_NAME}_BINARY_DIR}/lib" CACHE PATH
< 	"LIBRARY_OUTPUT_PATH" FORCE )
---
> SET( EXECUTABLE_OUTPUT_PATH "${PROJECT_BINARY_DIR}/bin" CACHE PATH "EXECUTABLE_OUTPUT_PATH" FORCE )
> SET( LIBRARY_OUTPUT_PATH "${PROJECT_BINARY_DIR}/lib" CACHE PATH "LIBRARY_OUTPUT_PATH" FORCE )
61,62d57
< # input directories
< #ADD_SUBDIRECTORY( src  ) ----------------------------------
77c72
< ADD_LIBRARY( lib_${PROJECT_NAME} ${lib_srcs} )
---
> ADD_LIBRARY( lib_streamlog ${lib_srcs} )
80c75
< #ADD_CUSTOM_TARGET( lib DEPENDS lib_${PROJECT_NAME} )
---
> #ADD_CUSTOM_TARGET( lib DEPENDS lib_streamlog )
83c78
< SET_TARGET_PROPERTIES( lib_${PROJECT_NAME} PROPERTIES
---
> SET_TARGET_PROPERTIES( lib_streamlog PROPERTIES
85,86c80,81
< 	VERSION ${${PROJECT_NAME}_VERSION}
< 	SOVERSION ${${PROJECT_NAME}_SOVERSION}
---
> 	VERSION ${streamlog_VERSION}
> 	SOVERSION ${streamlog_SOVERSION}
90,93c85
< 	OUTPUT_NAME ${PROJECT_NAME})
< 
< # link gear library with gearxml
< #TARGET_LINK_LIBRARIES( lib_${PROJECT_NAME} lib_GEARXML )
---
> 	OUTPUT_NAME streamlog)
96c88
< INSTALL( TARGETS lib_${PROJECT_NAME} DESTINATION lib PERMISSIONS
---
> INSTALL( TARGETS lib_streamlog DESTINATION lib PERMISSIONS
110,111c102
< ADD_CUSTOM_TARGET( uninstall
<   "${CMAKE_COMMAND}" -P "${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake" )
---
> ADD_CUSTOM_TARGET( uninstall_streamlog "${CMAKE_COMMAND}" -P "${CMAKE_CURRENT_BINARY_DIR}/cmake_uninstall.cmake" )
114,115c105,106
< CONFIGURE_FILE( "${${PROJECT_NAME}_SOURCE_DIR}/${PROJECT_NAME}Config.cmake.in"
< 				"${${PROJECT_NAME}_BINARY_DIR}/${PROJECT_NAME}Config.cmake" @ONLY )
---
> CONFIGURE_FILE( "${PROJECT_SOURCE_DIR}/streamlogConfig.cmake.in"
> 				"${PROJECT_BINARY_DIR}/streamlogConfig.cmake" @ONLY )
118c109
< INSTALL( FILES "${${PROJECT_NAME}_BINARY_DIR}/${PROJECT_NAME}Config.cmake" DESTINATION . )
---
> INSTALL( FILES "${PROJECT_BINARY_DIR}/streamlogConfig.cmake" DESTINATION . )
121,124c112,115
< INSTALL( DIRECTORY "${${PROJECT_NAME}_SOURCE_DIR}/source/include"
<   DESTINATION .
<   PATTERN "*~" EXCLUDE
<   PATTERN "*CVS*" EXCLUDE )
---
> INSTALL( DIRECTORY "${PROJECT_SOURCE_DIR}/source/include/streamlog"
>     DESTINATION include
>     PATTERN "*~" EXCLUDE
>     PATTERN "*CVS*" EXCLUDE )
132c123
< MESSAGE( STATUS "BUILD_streamlog_TESTS = ${BUILD_streamlog_TESTS}" )
---
> #MESSAGE( STATUS "BUILD_streamlog_TESTS = ${BUILD_streamlog_TESTS}" )
142c133
< 	"Where to install ${PROJECT_NAME}" FORCE )
---
> 	"Where to install streamlog" FORCE )
147,148c138,144
< SET( BUILD_streamlog_TESTS "${BUILD_streamlog_TESTS}" CACHE BOOL
< 	"Set to ON to build streamlog tests" FORCE )
---
> #SET( BUILD_streamlog_TESTS "${BUILD_streamlog_TESTS}" CACHE BOOL
> #    "Set to ON to build streamlog tests" FORCE )
> 
> # export build settings
> INCLUDE( CMakeExportBuildSettings )
> CMAKE_EXPORT_BUILD_SETTINGS( "${PROJECT_BINARY_DIR}/streamlogBuildSettings.cmake" )
> INSTALL( FILES "${PROJECT_BINARY_DIR}/streamlogBuildSettings.cmake" DESTINATION lib/cmake )
151c147,149
< EXPORT_LIBRARY_DEPENDENCIES( "${PROJECT_NAME}LibDeps.cmake" )
---
> EXPORT_LIBRARY_DEPENDENCIES( "${PROJECT_BINARY_DIR}/streamlogLibDeps.cmake" )
> INSTALL( FILES "${PROJECT_BINARY_DIR}/streamlogLibDeps.cmake" DESTINATION lib/cmake )
> 
